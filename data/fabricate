
<hgroup>
<div class="center"><img src="/content/images/fabricate_logo_80.png" alt="Fabricate Logo" class="logo" /></div>
<h1>Fabricate</h1>
<h2>A website maker</h2>
<h3>July 2011</h3>
</hgroup>

<h2>Why</h2>

<p>This was an excuse to work on my Python and JavaScript, towards the end of the project I incorporated shell scripts too, which I had never really used before. For educational purposes, no libraries were used.</p>

<p>It was the time of year, when I felt like I needed to revamp my website. I wanted to write something that would allow me to add content to the site easily and to hide to tedium of moving files to the server, updating, etc.</p>

<h2>What</h2>

<p>The workflow using Fabricate is simple, when you want to add a new section, you write a text file with a header, a header would look something like this:</p>

<pre>
name: Fabricate
cats: Web
tags: Python, JavaScript, shell, JSON
</pre>

<p>After leaving an empty line after the header, you can write the content. When you are done simply call <tt>make</tt> and the website you see in front of you is made and pushed to the server.</p>

<h3>How</h3>

<p>The main script is written in Python, this reads all the files and makes one big JSON object and writes it to a file. Next another Python script reads the content files to see if they have been modified since the last push, it also sees if there are any new files such as images that have been added to a content folder. Then all new files are tarred and pushed to the remote server where they are unpacked and moved to the right place.</p>

<p>All content on the site is created dynamically with JavaScript using the JSON file, pages are collected using <tt>XMLHttpRequest</tt>s.</p>

<p>Pages are served using <tt>mod_python</tt>, because there is no normal crawlable content, if Google visits the page, an HTML snapshot is served which has been produced using <a href="http://www.phantomjs.org/">phantomJS</a>.</p>

<p>If you're like me and you're always mad to know what and how much goes into projects, you might be interested to know this about Fabricate:</p>

<table border="1px" cellspacing="5">
<thead style="font-weight: bold">
<tr>
<td>Language</td>
<td>Code</td>
<td>Comment</td>
<td>Comment %</td>
<td>Blank</td>
<td>Total</td>
</tr>
</thead>
<tbody style="color: #656565">
<tr>
<td>JavaScript</td>
<td>613</td>
<td>130</td>
<td>17.5%</td>
<td>214</td>
<td>957</td>
</tr>
<tr>
<td>CSS</td>
<td>274</td>
<td>34</td>
<td>11.0%</td>
<td>82</td>
<td>390</td>
</tr>
<tr>
<td>Python</td>
<td>158</td>
<td>37</td>
<td>19.0%</td>
<td>29</td>
<td>264</td>
</tr>
<tr>
<td>Make</td>
<td>19</td>
<td>0</td>
<td>0.0%</td>
<td>6</td>
<td>25</td>
</tr>
</tbody>
<tfoot style="color: #000">
<tr>
<td>Total</td>
<td>1117</td>
<td>216</td>
<td>16.2%</td>
<td>395</td>
<td>1728</td>
</tr>
</tfoot>
</table>


<p>-</p>

<p>You can view the source on my <a href="https://github.com/whg/fabricate">github</a>.</p>